{% import 'macros/comment-macro.html' as comment_macro %}
{% import 'macros/button-macro.html' as button_macro %}

{% macro initialize_moderate(d_c, moment, current_user) %}
  {% if d_c.items|length != 0 %}
    {{ajax(d_c, moment, current_user)}}
  {% else %}
    <p>There are no recs in need of moderation. Good job!</p>
  {% endif %}
  {% if d_c.pages != d_c.page %}
    <a><p id='ajax-comments' class='load-more-com'>Load More</p></a>
  {% endif %}
  <script src="{{url_for('static', filename='js/speciality/ajax-comment.js')}}"></script>
{% endmacro %}

{% macro ajax(d_c, moment, current_user) %}
  {% for mod_check in d_c.items %}
    {{button_macro.mod_button(mod_check.id)}}
    {{comment_macro.render_comment(mod_check, moment, current_user)}}
  {% endfor %}
{% endmacro %}