{% import 'macros/commentmacro.html' as commentmacro %}
{% import 'macros/buttonmacro.html' as buttonmacro %}

{% macro initialize_moderate(d_c, moment, current_user) %}
  {% if d_c.items|length != 0 %}
    {{ajax(d_c, moment, current_user)}}
  {% else %}
    <p>There are no recs in need of moderation. Good job!</p>
  {% endif %}
  {% if d_c.pages != d_c.page %}
    <a><p id='ajax_comments' class='loadMoreCom black_hover_link'>Load More</p></a>
  {% endif %}
  <script src="{{url_for('static', filename='js/speciality/ajax_comment_js.js')}}"></script>
{% endmacro %}

{% macro ajax(d_c, moment, current_user) %}
  {% for mod_check in d_c.items %}
    {{buttonmacro.mod_button(mod_check.id)}}
    {{commentmacro.render_comment(mod_check, moment, current_user)}}
  {% endfor %}
{% endmacro %}