{% macro render_comment(com, moment, current_user) %}
  <div class='rec1'>
    <div class='postHeaderDiv'>
      <a href="{{url_for('personal.profile', id=com.comment_by)}}">
        <p class='postHeader special-link'>
          {{com.comm.username}}
        </p>
      </a>
      <p class='postHeader'>
        {{moment(com.timestamp).format('MMMM Do YYYY, h:mm:ss a')}}
      </p>
      {% if current_user.is_authenticated %}
        {% if current_user.posts.filter_by(id=com.posted_on).first() %}
          <a href="{{url_for('personal.comment_delete', id=com.id)}}">
            <p class='postHeader special-link'>
              Delete
            </p>
          </a>
        {% endif %}
        {% if current_user.id == com.comment_by %}
          <a href="{{url_for('personal.comment_edit', id=com.id)}}">
            <p class='postHeader special-link'>
              Edit
            </p>
          </a>
        {% endif %}
      {% endif %}
      <a href="{{url_for('main.highlight', id=com.posted_on)}}">
        <p class=' rec postHeader special-link'>
          Rec
        </p>
      </a>
    </div><!--postHeaderDiv-->
    <p class='postText'>
      {{com.comment}}
    </p>
  </div><!--rec1-->
  <br/>
{% endmacro %}

{% macro initialize_comments(d_c, moment, current_user) %}
  {{ajax(d_c, moment, current_user)}}
  {% if d_c.pages != d_c.page %}
    <a><p id='ajax_comments' class='loadMoreCom special-link'>Load More</p></a>
  {% endif %}
  <script src="{{url_for('static', filename='js/speciality/ajax_comment_js.js')}}"></script>
{% endmacro %}

{% macro ajax(d_c, moment, current_user) %}
  {% for com in d_c.items %}
    {{render_comment(com, moment, current_user)}}
  {% endfor %}
{% endmacro %}

{% macro search_initialize() %}
  <a><p id='ajax_comments' class='loadMoreCom special-link'>Load More</p></a>
  <script src="{{url_for('static', filename='js/speciality/ajax_comment_js.js')}}"></script>
{% endmacro %}